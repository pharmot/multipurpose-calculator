

<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      Source: logger.js - Multipurpose Calculator Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-custom.css">
  

  

  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("1919205b2da72e4da3b9b6639b444d59");</script>
  <!-- end Mixpanel -->
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li >
        <a href="index.html">
          
            <svg fill="#6D6D6D" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">Documentation</h3>

    

    <h3>Modules</h3><ul><li id="alligation-nav"><a href="module-alligation.html">alligation</a></li><li id="amg-nav"><a href="module-amg.html">amg</a></li><li id="arial-nav"><a href="module-arial.html">arial</a></li><li id="formValidation-nav"><a href="module-formValidation.html">formValidation</a></li><li id="glucommander-nav"><a href="module-glucommander.html">glucommander</a></li><li id="growthCharts-nav"><a href="module-growthCharts.html">growthCharts</a></li><li id="heparin-nav"><a href="module-heparin.html">heparin</a></li><li id="ivFluid-nav"><a href="module-ivFluid.html">ivFluid</a></li><li id="ivig-nav"><a href="module-ivig.html">ivig</a></li><li id="kcentra-nav"><a href="module-kcentra.html">kcentra</a></li><li id="logger-nav"><a href="module-logger.html">logger</a></li><li id="nextdose-nav"><a href="module-nextdose.html">nextdose</a></li><li id="pca-nav"><a href="module-pca.html">pca</a></li><li id="periodicCalc-nav"><a href="module-periodicCalc.html">periodicCalc</a></li><li id="phenytoin-nav"><a href="module-phenytoin.html">phenytoin</a></li><li id="qtc-nav"><a href="module-qtc.html">qtc</a></li><li id="secondDose-nav"><a href="module-secondDose.html">secondDose</a></li><li id="util-nav"><a href="module-util.html">util</a></li><li id="vanco-nav"><a href="module-vanco.html">vanco</a></li><li id="warf-nav"><a href="module-warf.html">warf</a></li></ul><h3>Namespaces</h3><ul><li id="calculate-nav"><a href="calculate.html">calculate</a></li><li id="heparin-nav"><a href="module-heparin-heparin.html">heparin</a></li><li id="kcentra-nav"><a href="module-kcentra-kcentra.html">kcentra</a></li><li id="pt-nav"><a href="pt.html">pt</a></li></ul><h3>Classes</h3><ul><li id="Pca-nav"><a href="module-pca-Pca.html">Pca</a></li><li id="Dose-nav"><a href="module-warf-Dose.html">Dose</a></li><li id="NicuFluidComponent-nav"><a href="NicuFluidComponent.html">NicuFluidComponent</a></li></ul><h3 id="global-nav">Global</h3><ul><li><a href="global.html#changedAmgMethod">changedAmgMethod</a></li><li><a href="global.html#displayChange">displayChange</a></li><li><a href="global.html#MODULE_DELAY">MODULE_DELAY</a></li><li><a href="global.html#resetDates">resetDates</a></li><li><a href="global.html#vancoColorScale">vancoColorScale</a></li></ul><div class="repo-link">
    <svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle">
    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
</svg>
    <a href="https://github.com/pharmot/multipurpose-calculator">Repository</a>
    </div>
  </nav>

  <div id="main">
    
      <h1 class="page-title">
        Source: logger.js
      </h1>
    

    
      

<section>
  <article>
    <pre class="prettyprint source linenums"><code>/**
 * Logger for debugging and calculation output
 * @module logger
 * @requires module:arial
 */

import * as arial from './arial.js';

const colors = {
  black:               "#2F2F2F",
  brightBlack:         "#5A6374",
  white:               "#D3D7CF",
  brightWhite:         "#ffffff",
  red:                 "#DC322F",
  brightRed:           "#EF2929",
  yellow:              "#C4A000",
  brightYellow:        "#FCE94F",
  green:               "#4E9A06",
  brightGreen:         "#8AE234",
  cyan:                "#06989A",
  brightCyan:          "#34E2E2",
  blue:                "#3465A4",
  brightBlue:          "#729FCF",
  purple:              "#A626A4",
  brightPurple:        "#C577DD",
}


/**
 * Status of logger, determines if console wrapper functions are executed
 */
export let enabled = false;

/**
 * Status of debugging, exported to allow modules to pre-fill their own test values
 */
export let debugEnabled = false;

/**
 * Enables logging
*/
export function enable() {
  enabled = true;
  black('               Logging enabled               ');
}

/**
 * Enables debugger
 */
export function presetValues() {
  debugEnabled = true;
  gray('        Debug mode, values pre-filled        ');
}
/**
 * Wrapper for console.log, dependent on whether logging has been enabled.
 * @param   {String|Object|Array}  msg     Message to log to console
 * @param   {String}               title   Title for message
 * @returns {undefined}
 */
export function log(msg = '', title = '') {
  if (!enabled) return;
  if ( (typeof msg === 'object' || Array.isArray(msg) ) &amp;&amp; title !== '' ) {
    console.log(`==========${title}==========`);
    console.log(msg);
  } else {
    console.log(title === '' ? msg : `==${title}== ${msg}`);
  }
}
/**
 * Wrapper for console.log when using multiple arguments or colors
 * Used when behavior of the log() function is not desired.
 * @param   {} msg
 * @returns {undefined}
 */
export function logArgs(...msg) {
  if ( !enabled ) return;
  console.log(...msg);
}
export function blue(msg) {
  if ( !enabled ) return;
  console.log(`%c ${msg} `, `background: ${colors.blue};color: ${colors.brightWhite}`);
}
export function red(msg) {
  if ( !enabled ) return;
  console.log(`%c ${msg} `, `background: ${colors.red};color: ${colors.brightWhite}`);
}
export function yellow(msg) {
  if ( !enabled ) return;
  console.log(`%c ${msg} `, `background: ${colors.brightYellow};color: ${colors.black}`);
}
export function cyan(msg) {
  if ( !enabled ) return;
  console.log(`%c ${msg} `, `background: ${colors.cyan};color: ${colors.brightWhite}`);
}
export function purple(msg) {
  if ( !enabled ) return;
  console.log(`%c ${msg} `, `background: ${colors.purple};color: ${colors.brightWhite}`);
}
export function green(msg) {
  if ( !enabled ) return;
  console.log(`%c ${msg} `, `background: ${colors.green};color: ${colors.brightWhite}`);
}
export function black(msg) {
  if ( !enabled ) return;
  console.log(`%c ${msg} `, `background: ${colors.black};color: ${colors.brightWhite}`);
}
export function gray(msg) {
  if ( !enabled ) return;
  console.log(`%c ${msg} `, `background: ${colors.brightBlack};color: ${colors.brightWhite}`);
}
export function blueGroup(msg) {
  if ( !enabled ) return;
  console.group(`%c ${msg} `, `background: ${colors.blue};color: ${colors.brightWhite}`);
}
export function redGroup(msg) {
  if ( !enabled ) return;
  console.group(`%c ${msg} `, `background: ${colors.red};color: ${colors.brightWhite}`);
}
export function yellowGroup(msg) {
  if ( !enabled ) return;
  console.group(`%c ${msg} `, `background: ${colors.brightYellow};color: ${colors.black}`);
}
export function cyanGroup(msg) {
  if ( !enabled ) return;
  console.group(`%c ${msg} `, `background: ${colors.cyan};color: ${colors.brightWhite}`);
}
export function purpleGroup(msg) {
  if ( !enabled ) return;
  console.group(`%c ${msg} `, `background: ${colors.purple};color: ${colors.brightWhite}`);
}
export function greenGroup(msg) {
  if ( !enabled ) return;
  console.group(`%c ${msg} `, `background: ${colors.green};color: ${colors.brightWhite}`);
}
export function blackGroup(msg) {
  if ( !enabled ) return;
  console.group(`%c ${msg} `, `background: ${colors.black};color: ${colors.brightWhite}`);
}
export function grayGroup(msg) {
  if ( !enabled ) return;
  console.group(`%c ${msg} `, `background: ${colors.brightBlack};color: ${colors.brightWhite}`);
}
export function blueGroupCollapsed(msg) {
  if ( !enabled ) return;
  console.groupCollapsed(`%c ${msg} `, `background: ${colors.blue};color: ${colors.brightWhite}`);
}
export function redGroupCollapsed(msg) {
  if ( !enabled ) return;
  console.groupCollapsed(`%c ${msg} `, `background: ${colors.red};color: ${colors.brightWhite}`);
}
export function yellowGroupCollapsed(msg) {
  if ( !enabled ) return;
  console.groupCollapsed(`%c ${msg} `, `background: ${colors.brightYellow};color: ${colors.black}`);
}
export function cyanGroupCollapsed(msg) {
  if ( !enabled ) return;
  console.groupCollapsed(`%c ${msg} `, `background: ${colors.cyan};color: ${colors.brightWhite}`);
}
export function purpleGroupCollapsed(msg) {
  if ( !enabled ) return;
  console.groupCollapsed(`%c ${msg} `, `background: ${colors.purple};color: ${colors.brightWhite}`);
}
export function greenGroupCollapsed(msg) {
  if ( !enabled ) return;
  console.groupCollapsed(`%c ${msg} `, `background: ${colors.green};color: ${colors.brightWhite}`);
}
export function blackGroupCollapsed(msg) {
  if ( !enabled ) return;
  console.groupCollapsed(`%c ${msg} `, `background: ${colors.black};color: ${colors.brightWhite}`);
}
export function grayGroupCollapsed(msg) {
  if ( !enabled ) return;
  console.groupCollapsed(`%c ${msg} `, `background: ${colors.brightBlack};color: ${colors.brightWhite}`);
}
export function blueText(msg) {
  if ( !enabled ) return;
  console.log(`%c${msg}`, `color: ${colors.blue}`);
}
export function redText(msg) {
  if ( !enabled ) return;
  console.log(`%c${msg}`, `color: ${colors.red}`);
}
export function yellowText(msg) {
  if ( !enabled ) return;
  console.log(`%c${msg}`, `color: ${colors.yellow}`);
}
export function cyanText(msg) {
  if ( !enabled ) return;
  console.log(`%c${msg}`, `color: ${colors.cyan}`);
}
export function purpleText(msg) {
  if ( !enabled ) return;
  console.log(`%c${msg}`, `color: ${colors.purple}`);
}
export function greenText(msg) {
  if ( !enabled ) return;
  console.log(`%c${msg}`, `color: ${colors.green}`);
}
export function grayText(msg) {
  if ( !enabled ) return;
  console.log(`%c${msg}`, `color: ${colors.brightBlack}`);
}
/**
 * Wrapper for console.error, dependent on whether logging has been enabled
 * @param   {String}    msg     Error message to log to console
 * @param   {String}    title   Title for error message
 * @returns {undefined}
 */
export function error(msg = '', title = '') {
  if (!enabled) return;
  console.error(title === '' ? msg : `[${title}]   ${msg}`);
}
/**
 * Wrapper for console.warn, dependent on whether logging has been enabled
 * @param   {String}    msg     Warning message to log to console
 * @param   {String}    title   Title for warning message
 * @returns {undefined}
 */
export function warn(msg = '', title = '') {
  if (!enabled) return;
  console.warn(title === '' ? msg : `[${title}]   ${msg}`);
}
/**
 * Wrapper for console.group, dependent on whether logging has been enabled
 * @param   {String}    msg     Message to log to console
 * @returns {undefined}
 */
export function group(msg = "") {
  if (!enabled) return;
  console.group(msg);
}
/**
 * Wrapper for console.groupCollapsed, dependent on whether logging has been enabled
 * @param   {String}    msg     Message to log to console
 * @returns {undefined}
 */
export function groupCollapsed(msg = "") {
  if (!enabled) return;
  console.groupCollapsed(msg);
}
/**
 * Wrapper for console.groupEnd, dependent on whether logging has been enabled
 * @returns {undefined}
 */
export function groupEnd() {
  if (!enabled) return;
  console.groupEnd();
}
/**
 * Shortcut to start a group with the name of a function and its arguments
 * @example   LOG.beginFunction('myFunctionName', arguments);
 *
 * @param   {String} functionName - Name of the function, to serve as the group caption
 * @param   {Any[]}  [args]       - The function's arguments object
 * @returns {undefined}
 */
export function beginFunction(functionName, args){
  if (!enabled) return;
  console.groupCollapsed(`%c ${functionName} `, `color:${colors.brightYellow};background:${colors.blue}` );
  if ( args ) {
    console.group('%c Input ', `background: ${colors.brightBlue};color:${colors.brightWhite}`);
    for ( let i = 0; i &lt; args.length; i++ ) {
      log(JSON.parse(JSON.stringify(args[i])));
    }
    groupEnd();
  }  
}
/**
 * Use when exiting a function due to missing or invalid input(s)
 *
 * @param   {Any} [res] Result of the function
 * @returns {undefined}
 */
export function exitFunction(res){
  if (!enabled) return;
  console.log('%c Required value(s) are missing or invalid ', `background: ${colors.red};color: ${colors.brightYellow}`);
  
  if ( res ) {
    console.group('%c Result ', `background: ${colors.brightBlue};color:${colors.brightWhite}`);
    log(JSON.parse(JSON.stringify(res)));
    groupEnd();
  }
  groupEnd();
}
/**
 * Shortcut for LOG.log({result: res});LOG.groupEnd()
 * @param {Any} res result of function
 */
export function endResult(res){
  if (!enabled) return;
  console.group('%c Result             ', `background: ${colors.brightBlue};color:${colors.brightWhite}`);
  if ( res ) log(JSON.parse(JSON.stringify(res)));
  groupEnd();
  console.log('%c                          ', `background: ${colors.blue}`);
  groupEnd();
}

/**
 * Log an object to the console as a deep copy
 * @param {any} obj
 */
export function deep(obj){
  if ( !enabled ) return;
  console.log(JSON.parse(JSON.stringify(obj)));
}


//TODO: document outputTape function
export function outputTape(parent, title = "") {
  let titleHtml = "";
  title = title.toUpperCase();
  const divider = arial.underline(title, "=");
  if ( title !== "" ) {
    titleHtml = `${title}&lt;br>${divider}`;
  }
  let txt = "";
  const items = [];
  parent.forEach(child => {
    if ( !( child[1] instanceof Array ) ) {
      items.push(child);
    } else {
      if ( child[0] instanceof Array ) {
        txt += `&lt;br>`;
        txt += printArray(child);
      } else {
        txt += `&lt;br>&lt;u>${child[0]}&lt;/u>&lt;br>`;
        txt += printArray(child[1]);
      }
    }
  });
  return `${titleHtml}${printArray(items)}${txt}`;
}
/**
 * Takes an array of [label, value] arrays and converts to text/html with breaks
 * after each line, padded with nonbreaking spaces so values will be aligned.
 * Labels with an empty string as their value will not be included.
 * 
 * @example
 * printArray([
 *   ['Actual Body Weight', '70 kg'],
 *   ['Height', '180 cm'],
 * ]);
 * 
 * // resulting HTML will appear like this (in Arial):
 * Actual Body Weight:  70 kg
 * Height:              180 cm
 * 
 * @param   {String[][]} arr Array of any length, each member must be an array of 2 strings
 * @returns {String}
 */
function printArray(arr) {
  let labels = [];
  const values = [];
  let txt = "";
  arr.forEach(el => {
    if ( Array.isArray( el ) &amp;&amp; el.length > 1 ) {
      if ( el[1] !== "" ) {
        if ( el[0].length > 0 ) {
          labels.push(`${el[0]}:`);
        } else {
          labels.push(' ');
        }
        values.push(el[1]);
      }
    }
  });
  labels = arial.padArray(labels);
  for ( let i = 0; i &lt; labels.length; i++ ) {
    txt += `${labels[i] + values[i]  }&lt;br>`;
  }
  return txt;
}
</code></pre>
  </article>
</section>

    


  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  

</body>
</html>
